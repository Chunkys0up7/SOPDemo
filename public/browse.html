<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Browse SOPs - SOP System</title>
  <style>
    :root {
      --primary-color: #0052CC;
      --primary-dark: #003d99;
      --text-dark: #2d3748;
      --text-light: #718096;
      --border-color: #e2e8f0;
      --bg-light: #f7fafc;
      --success-color: #48bb78;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-light);
    }

    .page-container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 20px;
    }

    .page-header {
      background: white;
      padding: 32px;
      border-radius: 12px;
      margin-bottom: 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .page-header h1 {
      font-size: 28px;
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .filters-section {
      background: white;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .filter-row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }

    .filter-group {
      flex: 1;
      min-width: 200px;
    }

    .filter-group label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .filter-group select {
      width: 100%;
      padding: 10px;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      font-size: 14px;
      background: white;
      cursor: pointer;
      transition: all 0.2s;
    }

    .filter-group select:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .main-layout {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 24px;
    }

    .sidebar {
      background: white;
      border-radius: 12px;
      padding: 24px;
      height: fit-content;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      position: sticky;
      top: 20px;
    }

    .sidebar h3 {
      font-size: 16px;
      margin-bottom: 16px;
      color: var(--text-dark);
    }

    .category-list {
      list-style: none;
    }

    .category-item {
      padding: 10px 12px;
      margin-bottom: 4px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .category-item:hover {
      background: var(--bg-light);
    }

    .category-item.active {
      background: var(--primary-color);
      color: white;
      font-weight: 600;
    }

    .category-count {
      font-size: 12px;
      opacity: 0.7;
    }

    .sop-grid {
      display: grid;
      gap: 16px;
    }

    .sop-card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      cursor: pointer;
      transition: all 0.2s;
      border-left: 4px solid var(--primary-color);
    }

    .sop-card:hover {
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }

    .sop-card-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 12px;
    }

    .sop-card-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .sop-card-meta {
      display: flex;
      gap: 16px;
      font-size: 13px;
      color: var(--text-light);
      flex-wrap: wrap;
    }

    .sop-card-description {
      font-size: 14px;
      color: var(--text-dark);
      line-height: 1.6;
      margin-bottom: 16px;
    }

    .sop-card-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .tag {
      padding: 4px 10px;
      background: var(--bg-light);
      color: var(--text-dark);
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
    }

    .badge {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .badge-active {
      background: #c6f6d5;
      color: #22543d;
    }

    .badge-draft {
      background: #feebc8;
      color: #7c2d12;
    }
  </style>
</head>
<body>
  <!-- Global Navigation -->
  <script>
    fetch('/public/components/global-nav.html')
      .then(response => response.text())
      .then(html => {
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = html;
        document.body.insertBefore(tempDiv.firstChild, document.body.firstChild);
      });
  </script>

  <div class="page-container">
    <div class="page-header">
      <h1>üìö Browse SOPs</h1>
      <p style="color: var(--text-light); font-size: 14px;">Explore all standard operating procedures across departments</p>
    </div>

    <div class="filters-section">
      <div class="filter-row">
        <div class="filter-group">
          <label>Department</label>
          <select>
            <option>All Departments</option>
            <option>IT</option>
            <option>Finance</option>
            <option>HR</option>
            <option>Operations</option>
            <option>Legal & Compliance</option>
            <option>Security</option>
          </select>
        </div>

        <div class="filter-group">
          <label>Complexity</label>
          <select>
            <option>All Levels</option>
            <option>Basic</option>
            <option>Intermediate</option>
            <option>Advanced</option>
          </select>
        </div>

        <div class="filter-group">
          <label>Status</label>
          <select>
            <option>Active</option>
            <option>Draft</option>
            <option>Archived</option>
            <option>All</option>
          </select>
        </div>

        <div class="filter-group">
          <label>Compliance Framework</label>
          <select>
            <option>All Frameworks</option>
            <option>SOX</option>
            <option>HIPAA</option>
            <option>GDPR</option>
            <option>ISO 9001</option>
            <option>PCI-DSS</option>
            <option>SOC 2</option>
          </select>
        </div>
      </div>
    </div>

    <div class="main-layout">
      <aside class="sidebar">
        <h3>Categories</h3>
        <ul class="category-list">
          <li class="category-item active">
            <span>All SOPs</span>
            <span class="category-count">47</span>
          </li>
          <li class="category-item">
            <span>System Configuration</span>
            <span class="category-count">12</span>
          </li>
          <li class="category-item">
            <span>Troubleshooting</span>
            <span class="category-count">8</span>
          </li>
          <li class="category-item">
            <span>Compliance & Audit</span>
            <span class="category-count">15</span>
          </li>
          <li class="category-item">
            <span>Training & Onboarding</span>
            <span class="category-count">6</span>
          </li>
          <li class="category-item">
            <span>Risk Management</span>
            <span class="category-count">4</span>
          </li>
          <li class="category-item">
            <span>Maintenance & Updates</span>
            <span class="category-count">2</span>
          </li>
        </ul>
      </aside>

      <main>
        <div class="sop-grid">
          <!-- SOP Card 1 -->
          <div class="sop-card" onclick="window.location.href='/public/sop-viewer.html?id=atom-password-reset'">
            <div class="sop-card-header">
              <div>
                <div class="sop-card-title">‚öõÔ∏è Password Reset Procedure</div>
                <div class="sop-card-meta">
                  <span>üìÇ IT Department</span>
                  <span>üìä Basic</span>
                  <span>üë• Used in 12 workflows</span>
                  <span>üìÖ Updated 3 days ago</span>
                </div>
              </div>
              <span class="badge badge-active">Active</span>
            </div>
            <p class="sop-card-description">
              Standard procedure for resetting user passwords with multi-factor authentication verification.
              Includes self-service portal instructions and admin override process.
            </p>
            <div class="sop-card-tags">
              <span class="tag">SOX</span>
              <span class="tag">HIPAA</span>
              <span class="tag">SOC 2</span>
              <span class="tag">Reusable</span>
            </div>
          </div>

          <!-- SOP Card 2 -->
          <div class="sop-card" onclick="window.location.href='/public/sop-viewer.html?id=molecule-new-user-setup'">
            <div class="sop-card-header">
              <div>
                <div class="sop-card-title">üß¨ New User Account Setup</div>
                <div class="sop-card-meta">
                  <span>üìÇ HR & IT</span>
                  <span>üìä Intermediate</span>
                  <span>üë• Used in 5 workflows</span>
                  <span>üìÖ Updated 1 week ago</span>
                </div>
              </div>
              <span class="badge badge-active">Active</span>
            </div>
            <p class="sop-card-description">
              Complete workflow for provisioning new employee accounts including system access, security training,
              and compliance verification. Combines multiple atoms for streamlined onboarding.
            </p>
            <div class="sop-card-tags">
              <span class="tag">SOX</span>
              <span class="tag">Training</span>
              <span class="tag">Multi-step</span>
            </div>
          </div>

          <!-- SOP Card 3 -->
          <div class="sop-card" onclick="window.location.href='/public/sop-viewer.html?id=atom-access-approval'">
            <div class="sop-card-header">
              <div>
                <div class="sop-card-title">‚öõÔ∏è Access Request Approval Matrix</div>
                <div class="sop-card-meta">
                  <span>üìÇ Multi-Department</span>
                  <span>üìä Intermediate</span>
                  <span>üë• Used in 23 workflows</span>
                  <span>üìÖ Updated 2 weeks ago</span>
                </div>
              </div>
              <span class="badge badge-active">Active</span>
            </div>
            <p class="sop-card-description">
              Multi-level approval workflow with 4-tier authorization matrix and automated conflict-of-interest detection.
              Most reused component in the system.
            </p>
            <div class="sop-card-tags">
              <span class="tag">SOX</span>
              <span class="tag">GDPR</span>
              <span class="tag">High Reusability</span>
              <span class="tag">Governance</span>
            </div>
          </div>

          <!-- SOP Card 4 -->
          <div class="sop-card" onclick="alert('This SOP is in draft status and pending approval')">
            <div class="sop-card-header">
              <div>
                <div class="sop-card-title">üìÑ GDPR Data Subject Request Handling</div>
                <div class="sop-card-meta">
                  <span>üìÇ Legal & Compliance</span>
                  <span>üìä Advanced</span>
                  <span>üë• New SOP</span>
                  <span>üìÖ Created yesterday</span>
                </div>
              </div>
              <span class="badge badge-draft">Draft</span>
            </div>
            <p class="sop-card-description">
              Comprehensive procedure for handling GDPR data subject requests including right to access,
              right to erasure, and data portability. 30-day response deadline tracking.
            </p>
            <div class="sop-card-tags">
              <span class="tag">GDPR</span>
              <span class="tag">CCPA</span>
              <span class="tag">Compliance</span>
              <span class="tag">Regulatory</span>
            </div>
          </div>

          <!-- SOP Card 5 -->
          <div class="sop-card" onclick="window.location.href='/public/sop-viewer.html?id=sop-it-001'">
            <div class="sop-card-header">
              <div>
                <div class="sop-card-title">üìÑ IT Support Workflow - Complete End-to-End</div>
                <div class="sop-card-meta">
                  <span>üìÇ IT Department</span>
                  <span>üìä Advanced</span>
                  <span>üë• Orchestrates 8 components</span>
                  <span>üìÖ Updated 1 month ago</span>
                </div>
              </div>
              <span class="badge badge-active">Active</span>
            </div>
            <p class="sop-card-description">
              Complete organism-level workflow managing ticket intake through resolution. Includes escalation matrix,
              SLA tracking, and customer communication templates.
            </p>
            <div class="sop-card-tags">
              <span class="tag">ISO 9001</span>
              <span class="tag">ITIL</span>
              <span class="tag">Complete Workflow</span>
            </div>
          </div>
        </div>

        <div style="text-align: center; padding: 40px; color: var(--text-light);">
          <p>Showing 5 of 47 SOPs ‚Ä¢ <a href="/public/sop-search.html" style="color: var(--primary-color); text-decoration: none; font-weight: 600;">View All ‚Üí</a></p>
        </div>
      </main>
    </div>
  </div>
</body>
</html>
