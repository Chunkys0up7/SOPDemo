<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SOP Templates - SOP Ecosystem</title>
  <style>
    :root {
      --primary-color: #0052CC;
      --primary-dark: #003d99;
      --text-dark: #2d3748;
      --text-light: #718096;
      --border-color: #e2e8f0;
      --bg-light: #f7fafc;
      --success-color: #48bb78;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-light);
      min-height: 100vh;
    }

    .page-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    .page-header {
      background: white;
      padding: 40px;
      border-radius: 12px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .page-header h1 {
      font-size: 32px;
      color: var(--text-dark);
      margin-bottom: 12px;
    }

    .page-header p {
      font-size: 16px;
      color: var(--text-light);
      max-width: 700px;
    }

    .filter-section {
      background: white;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 30px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .filter-label {
      font-weight: 600;
      color: var(--text-dark);
      font-size: 14px;
    }

    .filter-btn {
      padding: 8px 16px;
      border: 2px solid var(--border-color);
      background: white;
      color: var(--text-dark);
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      font-size: 14px;
      transition: all 0.2s;
    }

    .filter-btn:hover {
      border-color: var(--primary-color);
      background: #eef2ff;
    }

    .filter-btn.active {
      border-color: var(--primary-color);
      background: var(--primary-color);
      color: white;
    }

    .templates-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 24px;
      margin-bottom: 30px;
    }

    .template-card {
      background: white;
      border-radius: 12px;
      padding: 28px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      transition: all 0.3s;
      cursor: pointer;
      border: 2px solid transparent;
      display: flex;
      flex-direction: column;
    }

    .template-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
      border-color: var(--primary-color);
    }

    .template-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .template-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .template-category {
      display: inline-block;
      padding: 4px 10px;
      background: #eef2ff;
      color: var(--primary-color);
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .template-description {
      color: var(--text-light);
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 16px;
      flex: 1;
    }

    .template-stats {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
      padding-top: 16px;
      border-top: 1px solid var(--border-color);
      font-size: 13px;
      color: var(--text-light);
    }

    .stat-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .template-features {
      background: var(--bg-light);
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 16px;
    }

    .template-features ul {
      list-style: none;
      font-size: 13px;
      color: var(--text-dark);
      line-height: 1.8;
    }

    .template-features li::before {
      content: "‚úì ";
      color: var(--success-color);
      font-weight: 700;
      margin-right: 6px;
    }

    .template-actions {
      display: flex;
      gap: 8px;
    }

    .btn {
      padding: 10px 18px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
      flex: 1;
    }

    .btn-primary {
      background: var(--primary-color);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: var(--bg-light);
      color: var(--text-dark);
    }

    .btn-secondary:hover {
      background: var(--border-color);
    }

    .popularity-badge {
      display: inline-block;
      padding: 4px 10px;
      background: #fef5e7;
      color: #d68910;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 700;
      margin-left: 8px;
    }

    .custom-template-cta {
      background: linear-gradient(135deg, #0052CC 0%, #003d99 100%);
      color: white;
      padding: 40px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 8px 24px rgba(0, 82, 204, 0.3);
    }

    .custom-template-cta h2 {
      font-size: 24px;
      margin-bottom: 12px;
    }

    .custom-template-cta p {
      font-size: 16px;
      margin-bottom: 24px;
      opacity: 0.95;
    }

    .btn-white {
      background: white;
      color: var(--primary-color);
      padding: 12px 32px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-white:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }

    .empty-state {
      text-align: center;
      padding: 80px 20px;
      color: var(--text-light);
    }

    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    @media (max-width: 768px) {
      .templates-grid {
        grid-template-columns: 1fr;
      }

      .filter-section {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <!-- Global Navigation -->
  <script>
    // Load global navigation component
    fetch('/public/components/global-nav.html')
      .then(response => response.text())
      .then(html => {
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = html;
        document.body.insertBefore(tempDiv.firstChild, document.body.firstChild);
      });
  </script>

  <div class="page-container">
    <div class="page-header">
      <h1>üìã SOP Templates</h1>
      <p>Start your documentation journey with battle-tested templates. Each template includes pre-built sections, formatting guidelines, and best practices.</p>
    </div>

    <div class="filter-section">
      <span class="filter-label">Category:</span>
      <button class="filter-btn active" data-category="all" onclick="filterTemplates('all')">All Templates</button>
      <button class="filter-btn" data-category="standard" onclick="filterTemplates('standard')">Standard SOPs</button>
      <button class="filter-btn" data-category="policy" onclick="filterTemplates('policy')">Policies</button>
      <button class="filter-btn" data-category="reference" onclick="filterTemplates('reference')">Quick Reference</button>
      <button class="filter-btn" data-category="checklist" onclick="filterTemplates('checklist')">Checklists</button>
    </div>

    <div class="templates-grid" id="templatesGrid">
      <!-- Templates will be rendered here -->
    </div>

    <div class="custom-template-cta">
      <h2>üé® Need a Custom Template?</h2>
      <p>Can't find what you're looking for? Start from scratch or request a custom template for your specific needs.</p>
      <button class="btn-white" onclick="createFromScratch()">Create from Scratch ‚Üí</button>
    </div>
  </div>

  <script>
    // Template database
    const templates = [
      {
        id: 'standard-sop',
        title: 'Standard Operating Procedure',
        category: 'standard',
        icon: 'üìÑ',
        description: 'Comprehensive template for documenting standard processes with step-by-step instructions, prerequisites, and quality checks.',
        uses: 342,
        rating: 4.8,
        features: [
          'Overview & scope section',
          'Prerequisites with dependencies',
          'Numbered procedure steps',
          'Quality checkpoints',
          'Troubleshooting guide',
          'Cross-reference support'
        ],
        popular: true
      },
      {
        id: 'policy-document',
        title: 'Policy Document',
        category: 'policy',
        icon: '‚öñÔ∏è',
        description: 'Structured template for organizational policies, including purpose, scope, responsibilities, and compliance requirements.',
        uses: 156,
        rating: 4.6,
        features: [
          'Policy statement',
          'Scope & applicability',
          'Roles & responsibilities',
          'Compliance requirements',
          'Consequences of non-compliance',
          'Review & approval workflow'
        ],
        popular: false
      },
      {
        id: 'quick-reference',
        title: 'Quick Reference Guide',
        category: 'reference',
        icon: '‚ö°',
        description: 'Concise, action-oriented template for frequently performed tasks. Perfect for common procedures that need quick access.',
        uses: 289,
        rating: 4.9,
        features: [
          'At-a-glance format',
          'Step-by-step instructions',
          'Visual cues & icons',
          'Common scenarios',
          'Quick troubleshooting tips',
          'Mobile-friendly layout'
        ],
        popular: true
      },
      {
        id: 'checklist-template',
        title: 'Process Checklist',
        category: 'checklist',
        icon: '‚úÖ',
        description: 'Interactive checklist format for tasks requiring verification steps. Ensures nothing is missed in critical processes.',
        uses: 412,
        rating: 4.7,
        features: [
          'Checkbox format',
          'Required vs optional items',
          'Sign-off sections',
          'Completion tracking',
          'Evidence attachment',
          'Audit trail support'
        ],
        popular: true
      },
      {
        id: 'onboarding-sop',
        title: 'Employee Onboarding',
        category: 'standard',
        icon: 'üëã',
        description: 'Comprehensive onboarding template covering day 1 through 90 days. Includes role-specific checklists and training modules.',
        uses: 203,
        rating: 4.8,
        features: [
          'Day 1/Week 1/Month 1 structure',
          'Role-specific sections',
          'Training milestones',
          'System access checklist',
          'Manager check-ins',
          'Success metrics'
        ],
        popular: false
      },
      {
        id: 'security-policy',
        title: 'Security & Compliance Policy',
        category: 'policy',
        icon: 'üîí',
        description: 'Template for security policies with built-in compliance frameworks (SOX, GDPR, HIPAA). Includes controls matrix.',
        uses: 178,
        rating: 4.9,
        features: [
          'Compliance mapping',
          'Risk assessment section',
          'Controls & safeguards',
          'Incident response',
          'Audit requirements',
          'Exception process'
        ],
        popular: false
      },
      {
        id: 'troubleshooting-guide',
        title: 'Troubleshooting Guide',
        category: 'reference',
        icon: 'üîß',
        description: 'Diagnostic flowchart template for resolving common issues. Includes decision trees and escalation paths.',
        uses: 267,
        rating: 4.6,
        features: [
          'Symptom-based navigation',
          'Decision flowcharts',
          'Root cause analysis',
          'Resolution steps',
          'Escalation criteria',
          'Knowledge base links'
        ],
        popular: false
      },
      {
        id: 'change-management',
        title: 'Change Management Process',
        category: 'standard',
        icon: 'üîÑ',
        description: 'Template for managing organizational changes with impact analysis, approval workflows, and rollback procedures.',
        uses: 134,
        rating: 4.7,
        features: [
          'Change request form',
          'Impact assessment',
          'Approval routing',
          'Implementation plan',
          'Rollback procedures',
          'Post-change review'
        ],
        popular: false
      },
      {
        id: 'audit-checklist',
        title: 'Audit Readiness Checklist',
        category: 'checklist',
        icon: 'üîç',
        description: 'Pre-audit preparation template with evidence gathering, documentation review, and compliance verification.',
        uses: 189,
        rating: 4.8,
        features: [
          'Documentation inventory',
          'Evidence collection',
          'Control testing',
          'Gap identification',
          'Remediation tracking',
          'Audit trail documentation'
        ],
        popular: false
      }
    ];

    let currentFilter = 'all';

    // Render templates
    function renderTemplates() {
      const grid = document.getElementById('templatesGrid');
      const filtered = currentFilter === 'all'
        ? templates
        : templates.filter(t => t.category === currentFilter);

      if (filtered.length === 0) {
        grid.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üì≠</div>
            <p>No templates found in this category.</p>
          </div>
        `;
        return;
      }

      grid.innerHTML = filtered.map(template => `
        <div class="template-card" onclick="previewTemplate('${template.id}')">
          <div class="template-icon">${template.icon}</div>
          <div>
            <span class="template-category">${template.category.toUpperCase()}</span>
            ${template.popular ? '<span class="popularity-badge">POPULAR</span>' : ''}
          </div>
          <h3 class="template-title">${template.title}</h3>
          <p class="template-description">${template.description}</p>

          <div class="template-features">
            <ul>
              ${template.features.slice(0, 4).map(f => `<li>${f}</li>`).join('')}
              ${template.features.length > 4 ? `<li>+ ${template.features.length - 4} more features</li>` : ''}
            </ul>
          </div>

          <div class="template-stats">
            <span class="stat-item">
              <span>üë•</span>
              <span>${template.uses} uses</span>
            </span>
            <span class="stat-item">
              <span>‚≠ê</span>
              <span>${template.rating}/5.0</span>
            </span>
          </div>

          <div class="template-actions">
            <button class="btn btn-primary" onclick="useTemplate(event, '${template.id}')">
              Use Template ‚Üí
            </button>
            <button class="btn btn-secondary" onclick="previewTemplate(event, '${template.id}')">
              Preview
            </button>
          </div>
        </div>
      `).join('');
    }

    // Filter templates
    function filterTemplates(category) {
      currentFilter = category;

      // Update active button
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector(`[data-category="${category}"]`).classList.add('active');

      renderTemplates();
    }

    // Use template
    function useTemplate(event, templateId) {
      if (event) event.stopPropagation();

      const template = templates.find(t => t.id === templateId);

      // In production, this would:
      // 1. Create new SOP from template
      // 2. Pre-fill sections
      // 3. Redirect to editor

      alert(`üéâ Creating new SOP from template: "${template.title}"\n\nThis will:\n‚Ä¢ Copy template structure\n‚Ä¢ Pre-fill standard sections\n‚Ä¢ Open in editor for customization\n‚Ä¢ Set up dependencies\n\nRedirecting to editor...`);

      // Simulate redirect to editor
      // window.location.href = `/public/sop-viewer.html?template=${templateId}&mode=edit`;
    }

    // Preview template
    function previewTemplate(event, templateId) {
      if (event && event.stopPropagation) event.stopPropagation();

      const template = templates.find(t => t.id === templateId);

      alert(`üìã Template Preview: ${template.title}\n\n${template.description}\n\nFeatures:\n${template.features.map(f => `‚Ä¢ ${f}`).join('\n')}\n\nRating: ${template.rating}/5.0 (${template.uses} organizations using this template)`);

      // In production, show modal with full template preview
    }

    // Create from scratch
    function createFromScratch() {
      if (confirm('Start with a blank SOP?\n\nYou\'ll need to:\n‚Ä¢ Define all sections manually\n‚Ä¢ Set up dependencies\n‚Ä¢ Configure metadata\n\nRecommended for experienced users only.')) {
        alert('Redirecting to blank SOP editor...');
        // window.location.href = '/public/sop-viewer.html?mode=create';
      }
    }

    // Initial render
    renderTemplates();
  </script>
</body>
</html>
